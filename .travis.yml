language: python
branches:
  only:
  - master
  - "/^v\\d+\\.\\d+\\.\\d+$/"
env:
  global:
  - REPOMATE_JUNIT4_HAMCREST="hamcrest-core-1.3.jar"
  - REPOMATE_JUNIT4_JUNIT="junit-4.12.jar"
matrix:
  include:
  - os: linux
    python: 3.5
    sudo: true
  - os: linux
    python: 3.6
    sudo: true
  - os: linux
    python: 3.7
    dist: xenial
    sudo: true
  - os: osx
    env: PYTHON=3.5.4
    language: generic
    sudo: true
  - os: osx
    env: PYTHON=3.6.5
    language: generic
    sudo: true
  - os: osx
    env: PYTHON=3.7.0
    language: generic
    sudo: true
install: ".travis/install.sh"
script: ".travis/run.sh"
after_success:
- codecov
notifications:
  email: false
  slack:
    on_success: change
    on_failure: always
    secure: Cq4Y2dwkNNE7hIZSEtmvNHI/2TZYzKpAJqbb6QPKG0hilx3PGetbs7fWy+ru6gRVW7A494Yk/4+ZO/9A92Pn0QHbbWtJZuU61pC2zxtkH2VKAzMVFly4gkL7L5Q9B8drAoer1usI4OtlN7eyqegTGAT8NEbhaynsJweEDZbWCWoXdQkl4tX6pYyDX/6HAWkfsQLaLPczLACyKYl812qAt7u6fFD+hcjdVrs/LfM9Cdt1gW3t9cVNm/Lqmla+I5OYjRRgbHm4XgsTrhNR0IoAxbktcxSwemnjTzwTsn7VQ9y4t8NlBRB5LUfw/0ihehKl7O4QS2c1G1uLhKHZZSfU8Di/qGGSvj/QBFvyZPDA8a/fmMBrNIHwy4k46l1ZfdDnX65oDbncHuXcFOVlTx85C5Zpy86tQDVktXf3kDlzsUtLgKtAY5dvLMDAwTvkX5M05DMwC51A+b2wsM1zs14CkeTFjHfsBIhDek91YfUEx6dRmnhg1KXVA+q02DKNoI0D5sNkOcgBnVATQOo29zcRKnyit93LBG3EiQYiIhubtwMkveXlEE3Qd5bUSdVuTMObN2nhm1bmYGrJ68dR+zKbsBZ51fcar6YeecmLCF6epBcZI++3AEH5/gu4qXb7A2pbxtiARJtxliI83d6CwEycPWhpjQ4p5UnByMhvKnKv14w=
deploy:
  provider: pypi
  user: slarse
  on:
    tags: true
    condition: $TRAVIS_OS_NAME = "linux"
  password:
    secure: ftX9cHxOWxr/yV+mdQs/c0qwjoaeFY5exEnth+vdGnRmLkAe1yhGfnSIlwnVE7qoahH+0PlrR6vQ+Nb04dk3/d7CANUcbpHi7nMXy0jqsqH/3bgJKCTva3T8LIDOzZlzUyvYYXzrrh4tTJ+d9oWf3kdCsihjRvfJMxsPPqf51ENrrs+mtitRzpPstTObVslez5Jwq2xiOe3cg04aM2XzIlJq1ujHnQOWVwIJNoYGc1NTMkYkfBiAWkDsFXAnVpM5qJwM8n7hC5MrvekFWPW9IW3j+10u/Sdanc9x2/LKUlFyaxesTBCusdaUdgD6ow6NDAYe8WVk6HZtcaCMnbPtMTea3l3Iz8vfw/GZiIkFf6vrzx4v2tguSajJfjVRVkicrLV592OeEpowWTVvgTtQvlBQs91Y2QxoxnD9J/EK/qA8NFuEkVb1JGVT8WxeR9fz4/01crFBhgjWNMeudgj4Rlw8KsS6gj6mVIkCKwCon1aV4u4mEKr19RFeziRRSkk6RutsN165qFpvC+5o0x0MRdv7S0Hkwr82MVLYbFtdUuCCZPd1VQzfYxdjEPdxbudrSF4MmchD1JH1KtikCdkTBqEmyOYA8QVByrW+/BHHHgKCpwVLPIx+yr2kVrmMoR36HVXWNzP6PZo+0Cc46w69Z6nRXYVJu1mNbZ441CrtGk4=
  distributions: sdist bdist_wheel
  repo: slarse/repomate-junit4
  skip_existing: true
